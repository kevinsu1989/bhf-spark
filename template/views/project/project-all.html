<div>
    <textarea id="tmpl-project-menu">
        <div class="project-menu">
            <ul class="master-menu" project-menu-highlight>
                <li class="myself">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/issue/myself">我相关的任务</a>
                        </label>
                    </div>
                </li>
                <li class="discussion">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/discussion">讨论</a>
                        </label>
                    </div>
                </li>
                <li class="issue-category">
                    <div class="inner">
                        <div class="title">
                            <i class="icon small"></i>
                            <label>
                                <a href="/{{baseLink}}/issue">全部任务</a>
                            </label>
                            <!--<button class="default setting"></button>-->
                        </div>
                        <project-category-menu data-project-id="{{project.id}}"></project-category-menu>
                    </div>
                </li>
                <li class="document">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/document">文档</a>
                        </label>
                    </div>
                </li>
                <li class="asset">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/assets">素材</a>
                        </label>
                    </div>
                </li>
                <li class="member">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/member">成员</a>
                        </label>
                        <a class="invite" href="javascript:void(0)" title="邀请请成员加入此项目" ng-click="onClickInvite($event)">邀请新成员</a>
                    </div>
                </li>
                <li class="commit">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/commit">Commit</a>
                        </label>
                    </div>
                </li>
                <li class="report">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/weekly-report">周报</a>
                        </label>
                    </div>
                </li>
                <!--
                <li class="version">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/version">版本</a>
                        </label>
                    </div>
                </li>
                -->
                <li class="stat" ng-hide="true">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/stat">统计</a>
                        </label>
                    </div>
                </li>
                <li class="plugin" ng-hide="true">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/plugin">插件</a>
                        </label>
                    </div>
                </li>
            </ul>

            <project-menu-bar></project-menu-bar>
            <invite-member></invite-member>
        </div>
    </textarea>

    <!--项目的menu bar-->
    <textarea id="tmpl-project-menu-bar">
        <div>
            <div class="menu-bar">
                <!--
                <div class="create item">
                    <i class="icon"></i>
                    <span>新增</span>
                </div>
                -->

                <div class="setting item" dropdown data-name="project:menu:manage">
                    <i class="icon"></i>
                    <span>管理工具</span>
                    <div class="dropdown dropdown-tip dropdown-up">
                        <ul class="dropdown-menu">
                            <li>
                                <a data-value="version"><span>版本</span></a>
                            </li>
                            <li>
                                <a data-value="category"><span>任务分类</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <issue-category-editor></issue-category-editor>
            <project-version-editor></project-version-editor>
        </div>
    </textarea>

    <!--项目分类的列表-->
    <textarea id="tmpl-project-menu-category">
        <ul class="sub-menu">
            <li ng-repeat="item in projectCategory">
                <a href="/{{item | projectLink: 'normal'}}/category/{{item.id}}/issue?title={{item.title}}">{{item.title}}</a>
                <span class="badge small gray">{{item.issue_undone_total}}/{{item.issue_total}}</span>
            </li>
        </ul>
    </textarea>

    <textarea id="tmpl-project-header">
        <header>
            <!--项目信息-->
            <div class="overview">
                <a href="/" class="home">
                    <i class="icon small"></i>
                </a>
                <div class="content">
                    <div class="title">
                        <label>{{project.title}}</label>
                        <i class="small icon"></i>
                    </div>
                    <div class="spliter">
                        ->
                    </div>
                    <div class="version" dropdown data-name="project:version" data-text-container="label.display" data-selected="{{projectVersion}}" data-exclude-value="-1">
                        <label class="display">{{projectVersion | currentProjectVersion}}</label>
                        <i class="small icon"></i>
                        <project-version-dropdown data-show-more="true"></project-version-dropdown>
                    </div>
                </div>
            </div>
            <div class="logo">
                <i class="icon"></i>
            </div>
            <!--右边的boolbar-->
            <header-toolbar></header-toolbar>
        </header>
    </textarea>

    <!--项目成员的下拉-->
    <textarea id="tmpl-project-member-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li><a data-value="-1">未指定</a></li>
                <li ng-repeat="item in items">
                    <a data-value="{{item.member_id}}">
                        {{item.realname}}
                    </a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目分类的dropdown-->
    <textarea id="tmpl-project-category-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li ng-repeat="item in projectCategory">
                    <a data-value="{{item.id}}"><span>{{item.title}}</span></a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目版本的dropdown-->
    <textarea id="tmpl-project-versions-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li ng-repeat="item in projectVersion">
                    <a data-value="{{item.id}}"><span>{{item.title}}</span></a>
                </li>
                <li ng-show="showMore">
                    <a data-value="all"><span>全部版本</span></a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目列表的磁贴-->
    <textarea id="tmpl-project-tiles">
        <ul class="project-tiles" project-tile-resize>
            <li class="create tile" ng-click="onClickCreate()">
                <i class="icon"></i>
            </li>

            <li class="tile" ng-repeat="project in projects.items" ng-click="onClickTile($event, project)" ng-class="{true: 'favorite'}[project.favorite > 0]">
               <div class="title">
                   {{project.title}}
                   <i class="icon small favorite"></i>
               </div>

               <div class="processing" project-processing data-dom-id="project-tile-{{project.id}}" id="project-tile-{{project.id}}">
                <!--
                <div class="circle">
                    <span class="text">{{project.finished_rate | number:0}}%</span>
                </div>
                -->
               </div>

               <div class="tile-toolbar">
                   <div class="description">{{project.description || '无项目说明' | limitTo: 40}}</div>
                   <ul class="menu">
                       <li class="sub-menu favorite">
                           <button class="default" ng-click="onClickFavorite($event, project)">
                               <i class="small icon"></i>
                               <span ng-show="project.favorite == 0">收藏</span>
                               <span ng-show="project.favorite > 0">取消</span>
                           </button>
                       </li>
                       <li class="sub-menu edit" ng-show="project.role == 'l'">
                           <button class="default" ng-click="onClickEdit($event, project)">
                            <i class="small icon"></i>
                               编辑
                           </button>
                       </li>
                       <li class="sub-menu remove" ng-show="project.role == 'l'">
                           <button class="default" ng-click="onClickDelete($event, project)">
                               <i class="small icon"></i>
                               删除
                           </button>
                       </li>
                   </ul>
               </div>
            </li>
        </ul>
    </textarea>

    <!--项目布局-->
    <textarea id="tmpl-project-layout">
        <div class="frame project-view">
            <global-message></global-message>
            <project-header></project-header>
            <div class="container">
                <!--左栏-->
                <div class="master-panel">
                    <project-menu></project-menu>
                </div>

                <div class="salve-panel">
                    <!--第二栏-->
                    <div class="list-panel" ui-view="listPanel"></div>
                    <!--第三栏-->
                    <div class="details-panel full" ui-view="detailsPanel"></div>
                </div>
            </div>
        </div>
    </textarea>
</div>