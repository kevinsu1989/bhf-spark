<div>
    <textarea id="tmpl-project-menu">
        <div class="project-menu">
            <ul class="master-menu">
                <li class="myself active">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/issue/myself">我的任务</a>
                        </label>
                    </div>
                </li>
                <li class="discussion">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/discussion">讨论</a>
                        </label>
                    </div>
                </li>
                <li class="issue-category">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/issue">任务</a>
                        </label>
                        <project-category-menu data-project-id="{{project.id}}"></project-category-menu>
                    </div>
                </li>
                <li class="member">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/assets">素材</a>
                        </label>
                    </div>
                </li>
                <li class="member">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/member">成员</a>
                        </label>
                    </div>
                </li>
                <li class="commit">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/commit">Commit</a>
                        </label>
                    </div>
                </li>
                <li class="report">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/weekly-report">周报</a>
                        </label>
                    </div>
                </li>
                <!--
                <li class="version">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/version">版本</a>
                        </label>
                    </div>
                </li>
                -->
                <li class="stat">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/stat">统计</a>
                        </label>
                    </div>
                </li>
                <li class="plugin">
                    <div class="inner">
                        <i class="icon small"></i>
                        <label>
                            <a href="/{{baseLink}}/plugin">插件</a>
                        </label>
                    </div>
                </li>
            </ul>

            <div class="menu-bar">
                <div class="create item">
                    <i class="icon"></i>
                    <span>新增</span>
                </div>
                <div class="setting item">
                    <i class="icon"></i>
                    <span>管理</span>
                </div>
            </div>
        </div>
    </textarea>

    <!--项目分类的列表-->
    <textarea id="tmpl-project-menu-category">
        <ul class="sub-menu">
            <li ng-repeat="item in projectCategory">
                <a href="/{{item | projectLink: 'normal'}}/category/{{item.id}}/issue?title={{item.title}}">{{item.title}}</a>
                <span class="badge small gray">0</span>
            </li>
        </ul>
    </textarea>

    <textarea id="tmpl-project-header">
        <header>
            <!--项目信息-->
            <div class="overview">
                <a href="/" class="home">
                    <i class="icon small"></i>
                </a>
                <div class="content">
                    <div class="title">
                        <label>{{project.title}}</label>
                        <i class="small icon"></i>
                    </div>
                    <div class="spliter">
                        ->
                    </div>
                    <div class="version" dropdown data-name="project:version" data-text-container="label.display" data-selected="{{projectVersion}}" data-exclude-value="-1">
                        <label class="display">{{projectVersion | currentProjectVersion}}</label>
                        <i class="small icon"></i>
                        <project-version-dropdown data-show-more="true"></project-version-dropdown>
                    </div>
                </div>
            </div>
            <div class="logo">
                <i class="icon"></i>
            </div>
            <!--右边的boolbar-->
            <header-toolbar></header-toolbar>
        </header>
    </textarea>

    <!--项目成员的下拉-->
    <textarea id="tmpl-project-member-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li><a data-value="-1">未指定</a></li>
                <li ng-repeat="item in items">
                    <a data-value="{{item.member_id}}">
                        {{item.username}}
                    </a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目分类的dropdown-->
    <textarea id="tmpl-project-category-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li ng-repeat="item in projectCategory">
                    <a data-value="{{item.id}}"><span>{{item.title}}</span></a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目版本的dropdown-->
    <textarea id="tmpl-project-versions-dropdown">
        <div class="dropdown dropdown-tip">
            <ul class="dropdown-menu">
                <li ng-repeat="item in projectVersion">
                    <a data-value="{{item.id}}"><span>{{item.title}}</span></a>
                </li>
                <li ng-show="showMore">
                    <a data-value="all"><span>所有版本</span></a>
                </li>
                <li class="create" ng-show="showMore">
                    <a data-value="-1"><span>添加新版本</span></a>
                </li>
            </ul>
        </div>
    </textarea>

    <!--项目列表的磁贴-->
    <textarea id="tmpl-project-tiles">
        <ul class="project-tiles">
            <li class="create tile" ng-click="onClickCreate()">
                <i class="icon"></i>
            </li>

            <li class="tile" ng-repeat="project in projects.items" ng-click="onClickTile($event, project)">
               <div class="title">
                   {{project.title}}
               </div>

               <div class="processing">
                <div class="circle">
                    <span class="text">100%</span>
                </div>
               </div>

               <div class="tile-toolbar">
                   <span>{{project.description || '无项目说明' | limitTo: 40}}</span>
                   <ul class="menu">
                       <li class="sub-menu">
                       <button class="default edit" ng-click="onClickEdit($event, project)">
                        <i class="small icon"></i>
                           编辑
                       </button>
                       </li>
                       <li class="spliter"></li>
                       <li class="sub-menu">
                           <button class="default remove" ng-click="onClickDelete($event, project)">
                               <i class="small icon"></i>
                               删除
                           </button>
                       </li>
                   </ul>
               </div>
            </li>
        </ul>
    </textarea>

    <!--创建项目，或者修改项目资料-->
    <textarea id="tmpl-project-editor">
        <div class="modal">
            <div class="inner">
                <a class="close-modal" rel="modal:close"><i class="icon"></i></a>
                <header>
                    {{editor_title}}项目
                </header>
                <section>
                    <form class="standard-form">
                        <div class="row">
                            <label class="caption">
                                项目名称
                            </label>
                            <input class="medium text" type="text" ng-model="data.title" maxlength="40"/>
                        </div>

                        <div class="row">
                            <label class="caption">
                                摘要说明
                            </label>
                            <input class="medium text" type="text" placeholder="一句话简单描述项目" ng-model="data.description" maxlength="40"/>
                        </div>

                        <div class="row">
                            <label class="caption">
                                项目状态
                            </label>
                            <div class="inline">
                                <label>
                                    <input type="radio" value="active" name="status" ng-model="data.status" /> 活动
                                </label>

                                <label>
                                    <input type="radio" value="archive" name="status" ng-model="data.status"/> 存档
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <label class="caption">
                                GitLab
                            </label>
                            <div class="inline">
                                <git-list-editor data-name="{{contextName}}"
                                                 data-max-count="10"
                                                 data-expression="^git@git\.hunantv\.com:.+\/.+\.git$"
                                                 data-gits="{{data.gits}}">
                                </git-list-editor>
                            </div>
                        </div>

                        <div class="row control">
                            <button class="primary default" ng-click="onClickSave()">保存</button>
                            <button class="cancel default" ng-click="onClickCancel()">取消</button>
                            <button class="delete default" ng-click="onClickDelete()" ng-show="data.id">删除</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </textarea>

    <!--周报-->
    <textarea id="tmpl-project-weekly-report-list">
        <div class="list">
            <header>
                <h3>项目周报</h3>
            </header>

            <ul class="details">
                <li class="row" ng-repeat="week in weeks">
                    <a  class="title" href="/{{null | projectLink: 'normal'}}/weekly-report/{{week.start}}~{{week.end}}">
                        {{week.text}}
                    </a>

                    <div class="info">
                        <span class="memo">{{week.start}} 至 {{week.end}}</span>
                    </div>
                </li>
            </ul>
        </div>
    </textarea>


    <textarea id="tmpl-project-report-weekly-member">
        <div class="somebody" ng-repeat="item in source">
            <div class="member">{{item.member.username}}</div>
            <ul class="tasks">
                <li ng-repeat="issue in item.issue">
                    <a href="/{{issue | projectLink}}/issue/{{issue.id}}">{{issue.title}} </a>
                    <div class="info">
                        <span class="plain gray">{{(issue.finish_time || issue.timestamp) | date: 'EEEE'}}</span>
                        <span class="plain gray">{{issue.project_name}}</span>
                    </div>
                </li>
            </ul>
        </div>
    </textarea>

    <!--周报详细-->
    <textarea id="tmpl-project-weekly-report-details">
        <div class="weekly-report-details">
            <header>
                <div class="title">
                    {{start_time | date: 'yyyy年第ww周'}}周报
                </div>
                <div class="print">
                    <i class="icon small"></i>
                    <a href="/{{null | projectLink}}/">打印版</a>
                </div>
            </header>

            <!--完成任务-->
            <section class="done report-view">
                <div class="title">
                    <i class="icon small"></i>
                    <h3>本周完成任务</h3>
                </div>

                <project-report-weekly-member data-source="report.finished"></project-report-weekly-member>
            </section>

            <!--未完成任务-->
            <section class="undone report-view">
                <div class="title">
                    <i class="icon small"></i>
                    <h3>本周未完成任务</h3>
                </div>

                <project-report-weekly-member data-source="report.unfinished"></project-report-weekly-member>
            </section>

            <!--本周无任务和周报记录-->
            <section class="lazybone report-view" ng-hide="true">
                <div class="title">
                    <i class="icon small"></i>
                    <h3>本周无任务和周报记录(共{{report.lazybones.length}}人)</h3>
                </div>

                <ul class="member-list">
                    <li ng-repeat="member in report.lazybones">
                        <div class="avatar">
                            {{member.realname | lastName}}
                        </div>
                        <label>{{member.realname}}</label>
                    </li>
                </ul>
            </section>
        </div>
    </textarea>
</div>